# Installation

`sudo apt install suricata`

ဆိုတဲ့ command ကတော့ Linux (Ubuntu/Debian) စနစ်ပေါ်မှာ **Suricata** ဆိုတဲ့ ကျူးကျော်မှု စောင့်ကြည့်ရေးစနစ် (Intrusion Detection System - IDS) ကို တရားဝင် repository ကနေ တိုက်ရိုက်ဒေါင်းလုဒ်ဆွဲပြီး ထည့်သွင်းလိုက်တာ ဖြစ်ပါတယ်။

ဒီ command ကို run ပြီးတဲ့နောက် ဖြစ်ပေါ်လာမယ့် အပြောင်းအလဲတွေနဲ့ နောက်ဆက်တွဲ သိထားသင့်တာတွေကို အောက်ပါအတိုင်း ရှင်းပြပေးပါမယ်။

---

### ၁။ Command ၏ လုပ်ဆောင်ချက်

- **`sudo`**: System configurations တွေ ပြင်ဆင်မှာဖြစ်လို့ အဆင့်မြင့် အက်ဒမင် (Root) အခွင့်အရေးကို ယူတာပါ။
- **`apt`**: Ubuntu ရဲ့ Package Manager ကို အသုံးပြုတာပါ။
- **`install suricata`**: Suricata software နဲ့ သူ့အတွက် လိုအပ်တဲ့ software အစိတ်အပိုင်း (dependencies) အားလုံးကို အလိုအလျောက် ရှာဖွေပြီး သွင်းပေးသွားမှာ ဖြစ်ပါတယ်။

### ၂။ Suricata သွင်းပြီးနောက် အရေးကြီးသော ဖိုင်လမ်းကြောင်းများ

Suricata ကို သွင်းပြီးသွားရင် SOC Analyst တစ်ယောက်အနေနဲ့ အောက်ပါ ဖိုင်လမ်းကြောင်း ၃ ခုကို အမြဲမှတ်မိနေရပါမယ်။

1. **Configuration File (`/etc/suricata/suricata.yaml`)**:
   Suricata ရဲ့ အဓိက အင်ဂျင်ကို ဒီမှာ ပြင်ရပါတယ်။ ဘယ် Network card ကို စောင့်ကြည့်မလဲ၊ Log တွေကို ဘယ်လိုထုတ်မလဲ ဆိုတာတွေကို ဒီဖိုင်မှာ သတ်မှတ်ရပါတယ်။
2. **Log Files (`/var/log/suricata/`)**:
   စောင့်ကြည့်လို့ ရလာတဲ့ အချက်အလက်တွေ ဒီမှာ ရှိပါတယ်။

- `fast.log`: ခြိမ်းခြောက်မှုတွေ့ရင် တိုတိုလေးနဲ့ သတိပေးချက် (Alert) ထုတ်ပေးတဲ့နေရာ။
- `eve.json`: အသေးစိတ် အချက်အလက်အားလုံးကို SIEM တွေ ဖတ်လို့ရတဲ့ JSON format နဲ့ သိမ်းတဲ့နေရာ။

3. **Rules Folder (`/var/lib/suricata/rules/`)**:
   Hacker တွေရဲ့ တိုက်ခိုက်မှုပုံစံ (Signatures) တွေကို ဒီဖိုင်ထဲမှာ သိမ်းထားပါတယ်။ Suricata က ဒီ rules တွေနဲ့ တိုက်စစ်ပြီးမှ Alert ထုတ်ပေးတာပါ။

### ၃။ IDS နှင့် IPS ပုံစံနှစ်မျိုး

Suricata ကို နည်းလမ်းနှစ်မျိုးနဲ့ အသုံးပြုနိုင်ပါတယ်။

- **IDS Mode (Intrusion Detection):** Network ထဲက Packet တွေကို "Copy" ကူးပြီး ကြည့်တာပါ။ တိုက်ခိုက်မှုတွေ့ရင် "Alert" ပေးပါတယ်။ ဒါပေမဲ့ တိုက်ခိုက်မှုကို ကိုယ်တိုင် မတားဆီးပါဘူး။ (စောင့်ကြည့်ရုံသက်သက်)
- **IPS Mode (Intrusion Prevention):** Network လမ်းကြောင်းရဲ့ "အလယ်" မှာ ဝင်ထိုင်တာပါ။ တိုက်ခိုက်မှုတွေ့ရင် အဲဒီ Packet ကို ချက်ချင်း "Drop" (ဖြတ်ချ) လုပ်ပြီး တားဆီးနိုင်ပါတယ်။

### ၄။ အောင်မြင်စွာ Install ဖြစ်မဖြစ် စစ်ဆေးနည်း

Install လုပ်ပြီးရင် Suricata ရဲ့ version နဲ့ အသေးစိတ် အချက်အလက်ကို ကြည့်ဖို့ ဒီ command ကို သုံးနိုင်ပါတယ်။

```bash
suricata --build-info
```

---

### သိထားသင့်တဲ့ အချက်များ

1. **Backup အရင်လုပ်ပါ**: ဖိုင်ကို မပြင်ခင် `sudo cp /etc/suricata/suricata.yaml /etc/suricata/suricata.yaml.bak` ဆိုပြီး မူရင်းဖိုင်ကို Backup သိမ်းထားသင့်ပါတယ်။
2. **Save & Exit**: Nano editor ထဲမှာ ပြင်ဆင်ပြီးရင် သိမ်းဖို့ **`Ctrl + O`** (ပြီးရင် Enter နှိပ်)၊ ထွက်ဖို့ **`Ctrl + X`** ကို နှိပ်ရပါတယ်။
3. **Update Config**: ဖိုင်ထဲမှာ တစ်ခုခုပြင်ပြီးတိုင်း settings တွေ အလုပ်လုပ်ဖို့ Suricata service ကို Restart ချပေးရပါတယ်။

### Next

- `sudo systemctl enable suricata`

ဒီ command ကတော့ **Suricata** ကို ကွန်ပျူတာ (သို့မဟုတ်) Server စတက်တာနဲ့ (Boot တက်တာနဲ့) အလိုအလျောက် (Automatically) အလုပ်လုပ်နိုင်အောင် သတ်မှတ်ပေးတာ ဖြစ်ပါတယ်။

---

### ၁။ Command ရဲ့ အစိတ်အပိုင်းများ

- **`sudo`**: System setting တွေကို ပြောင်းလဲဖို့အတွက် Administrator (Root) အခွင့်အရေးကို သုံးတာပါ။
- **`systemctl`**: ဒါက Linux မှာ ရှိတဲ့ Services (နောက်ကွယ်မှာ အလုပ်လုပ်နေတဲ့ program တွေ) ကို စီမံခန့်ခွဲတဲ့ အဓိက tool ဖြစ်ပါတယ်။
- **`enable`**: ဒီနေရာမှာ အရေးကြီးဆုံး စကားလုံးပါ။ သူက **"စက်ဖွင့်တာနဲ့ ဒီ service ကိုပါ တခါတည်း ဖွင့်ပေးပါ"** လို့ ခိုင်းတာပါ။
- **`suricata`**: ကိုယ် ခိုင်းစေချင်တဲ့ Service အမည် (Suricata IDS/IPS) ဖြစ်ပါတယ်။

---

### ၂။ သိထားသင့်တဲ့ ကွာခြားချက် (Enable vs Start)

လူအများစု မှားတတ်တဲ့ အချက်က `enable` လုပ်လိုက်ရင် Suricata ချက်ချင်း စတင်အလုပ်လုပ်ပြီလို့ ထင်တတ်ကြတာပါ။ တကယ်တော့ မတူပါဘူး-

| Command                              | အဓိပ္ပာယ်                                                                                                                            |
| ------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------ |
| **`sudo systemctl enable suricata`** | စက်ပြန်ပွင့်လာတိုင်း (Reboot) မှာ Suricata ကို အလိုအလျောက် ပွင့်စေချင်တာပါ။ (အခုချက်ချင်း အလုပ်လုပ်ချင်မှ လုပ်ဦးမှာပါ)               |
| **`sudo systemctl start suricata`**  | Suricata ကို **အခုချက်ချင်း (Now)** စတင် အလုပ်လုပ်ခိုင်းတာပါ။ (ဒါပေမဲ့ စက်ပိတ်ပြီး ပြန်ဖွင့်ရင် အလိုအလျောက် ပြန်ပွင့်မှာ မဟုတ်ပါဘူး) |

> **အကြံပြုချက်:** Suricata ကို အမြဲတမ်း အလုပ်လုပ်စေချင်ရင် `enable` ရော `start` ရော နှစ်ခုလုံး လုပ်ထားသင့်ပါတယ်။

---

### ၃။ နောက်ဆက်တွဲ သုံးလေ့ရှိတဲ့ Command များ

Suricata ကို enable လုပ်ပြီးရင် တကယ်ပဲ Enable ဖြစ်သွားပြီလားဆိုတာကို ဒီ command နဲ့ ပြန်စစ်လို့ရပါတယ်။

```bash
sudo systemctl is-enabled suricata
```

_(အဖြေက `enabled` လို့ ထွက်လာရပါမယ်)_

Suricata အခု လက်ရှိ အလုပ်လုပ်နေသလား (Running ဖြစ်နေလား) ဆိုတာကို စစ်ချင်ရင်:

```bash
sudo systemctl status suricata
```

---

### ၄။ အနှစ်ချုပ်

`sudo systemctl enable suricata` ကို ရိုက်လိုက်ခြင်းအားဖြင့် ကိုယ့်ရဲ့ Server ကို Restart ချလိုက်ရင်လည်း Suricata ကို ကိုယ်တိုင် manually လိုက်ဖွင့်စရာ မလိုတော့ဘဲ သူဘာသာသူ အလိုအလျောက် ပွင့်လာမှာ ဖြစ်ပါတယ်။
