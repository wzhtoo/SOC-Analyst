**tmux** ဆိုတာ Terminal Multiplexer တစ်ခုဖြစ်ပြီး Terminal ဝင်းဒိုးတစ်ခုတည်းမှာ screen တွေကို အများကြီး ခွဲခြားအသုံးပြုလို့ရအောင် လုပ်ပေးတဲ့ tool တစ်ခုပါ။

Suricata လိုမျိုး စနစ်တွေကို Monitor လုပ်တဲ့အခါ **ဘက်ဖက်မှာ Log တွေကို ကြည့်နေရင်း ညာဘက်မှာ Command တွေ ရိုက်ချင်တာ** မျိုးအတွက် `tmux` က အင်မတန် အသုံးဝင်ပါတယ်။

---

### ၁။ tmux ကို ဘာကြောင့် သုံးသင့်သလဲ?

- **Split Screen:** ဝင်းဒိုးတစ်ခုတည်းမှာ စာမျက်နှာကို အလျားလိုက်/အနံလိုက် ခွဲပြီး တစ်ဖက်မှာ Log ကြည့်၊ တစ်ဖက်မှာ Service status စစ်လို့ရပါတယ်။
- **Persistence:** `tmux` ထဲမှာ run ထားရင် သင် Terminal ဝင်းဒိုးကို ပိတ်လိုက်ရင်တောင် နောက်ကွယ်မှာ Suricata monitor လုပ်နေတာ ရပ်မသွားပါဘူး။ ပြန်ဝင်ကြည့်လို့ ရပါတယ်။

---

### ၂။ အခြေခံ အသုံးပြုပုံ အဆင့်ဆင့်

အရင်ဆုံး `tmux` ကို install လုပ်ထားရပါမယ် (မရှိသေးရင် `sudo apt install tmux` နဲ့ သွင်းပါ)။

**အဆင့် (၁): tmux session အသစ်တစ်ခု ဖွင့်ခြင်း**

```bash
tmux
```

**အဆင့် (၂): Screen ကို နှစ်ခြမ်းခွဲခြင်း (Monitoring လုပ်ဖို့ အကောင်းဆုံးနည်း)**

- **အလျားလိုက် ခွဲရန် (Horizontal Split):** `Ctrl + b` ကို နှိပ်၊ လွှတ်လိုက်ပြီး `"` (Double Quote) ကို နှိပ်ပါ။
- **အနံလိုက် ခွဲရန် (Vertical Split):** `Ctrl + b` ကို နှိပ်၊ လွှတ်လိုက်ပြီး `%` (Percent sign) ကို နှိပ်ပါ။

---

### ၃။ Suricata ကို Monitor လုပ်နည်း (Example)

အပေါ်ခြမ်းနဲ့ အောက်ခြမ်း ခွဲလိုက်ပြီဆိုပါစို့။

**အပေါ်ခြမ်းမှာ Suricata ရဲ့ Alerts (Logs) တွေကို Real-time ကြည့်မယ်:**
အပေါ်ခြမ်းကို သွားဖို့ `Ctrl + b` နှိပ်ပြီး `Up Arrow` ကို နှိပ်ပါ။ ပြီးရင် ဒီ command ရိုက်ပါ-

```bash
sudo tail -f /var/log/suricata/fast.log
```

_(ဒါဆိုရင် တိုက်ခိုက်မှုတွေ့တာနဲ့ ဒီမှာ စာတန်းတွေ တန်းတက်လာပါလိမ့်မယ်)_

**အောက်ခြမ်းမှာ Suricata ရဲ့ Status ကို စစ်မယ် သို့မဟုတ် command ရိုက်မယ်:**
အောက်ခြမ်းကို သွားဖို့ `Ctrl + b` နှိပ်ပြီး `Down Arrow` ကို နှိပ်ပါ။ ပြီးရင်-

```bash
sudo systemctl status suricata
```

---

### ၄။ အသုံးများတဲ့ tmux Shortcuts များ

| လုပ်ဆောင်ချက်                            | Shortcut Key                        |
| ---------------------------------------- | ----------------------------------- |
| **Command Mode ဝင်ရန်**                  | `Ctrl + b` (ဒါကို အရင်နှိပ်ရပါတယ်)  |
| **ဝင်းဒိုး နှစ်ခြမ်းခွဲရန် (ဘေးတိုက်)**  | `Ctrl + b` ပြီးလျှင် `%`            |
| **ဝင်းဒိုး နှစ်ခြမ်းခွဲရန် (အထက်အောက်)** | `Ctrl + b` ပြီးလျှင် `"`            |
| **ဝင်းဒိုးတစ်ခုနဲ့တစ်ခု ကူးရန်**         | `Ctrl + b` ပြီးလျှင် `Arrow Keys`   |
| **ဝင်းဒိုးတစ်ခုကို ပိတ်ရန်**             | `Ctrl + d` သို့မဟုတ် `exit` ရိုက်ပါ |
| **tmux ထဲက ယာယီထွက်ရန် (Detach)**        | `Ctrl + b` ပြီးလျှင် `d`            |
| **ထွက်သွားတဲ့ session ဆီ ပြန်ဝင်ရန်**    | `tmux attach`                       |

---

## Next paneal tmux

ဒီ command ကို `tmux` ရဲ့ နောက်ထပ် pane တစ်ခုမှာ run တာဟာ **Suricata က တိုက်ခိုက်မှုတွေကို တကယ်ပဲ စောင့်ကြည့်ဖမ်းမိရဲ့လား** ဆိုတာကို စမ်းသပ်ဖို့ (Testing) အတွက် ဖြစ်ပါတယ်။

---

### ၁။ Command ရဲ့ အဓိပ္ပာယ်

- `sudo python3 -m http.server 80`

* **`python3 -m http.server`**: ဒါက Python ပါတဲ့ ဘယ်ကွန်ပျူတာမှာမဆို Web Server အသေးစားလေးတစ်ခုကို ချက်ချင်းအလုပ်လုပ်စေတဲ့ command ပါ။
* **`80`**: ဒါက Web traffic တွေ ပုံမှန်သွားလေ့ရှိတဲ့ Port နံပါတ်ဖြစ်ပါတယ်။
* **`sudo`**: Port 80 ကဲ့သို့သော Privileged ports တွေကို သုံးဖို့အတွက် Administrator ခွင့်ပြုချက် လိုအပ်လို့ ဖြစ်ပါတယ်။

> **သတိပြုရန်:** သင် ရေးထားတဲ့ `http:server` (colon) မဟုတ်ဘဲ `http.server` (dot) ဖြစ်ရပါမယ်။

---

### ၂။ ဒါကို ဘာကြောင့် လုပ်ရတာလဲ? (The Logic)

Suricata ဆိုတာ Network traffic တွေကို စစ်ဆေးတဲ့စနစ်ဖြစ်လို့ သူ့ကို စမ်းသပ်ဖို့ဆိုရင် **Network traffic တစ်ခုခု ရှိနေဖို့** လိုပါတယ်။

၁။ သင်က Python နဲ့ Web Server လေးကို ဖွင့်လိုက်တဲ့အခါ သင့်စက်ဟာ Website တစ်ခုလို ဖြစ်သွားပါတယ်။
၂။ အခြားစက်တစ်ခုကနေဖြစ်စေ၊ ကိုယ့်စက်ထဲကနေဖြစ်စေ အဲဒီ Web Server ဆီကို "မသင်္ကာဖွယ်ရာ ပုံစံတူ Request" တစ်ခု ပို့ကြည့်ပါမယ်။
၃။ Suricata က အဲဒီ Request ကို ဖမ်းမိပြီး **Alert Log** ထုတ်ပေးပါလိမ့်မယ်။

---

### ၃။ tmux ထဲမှာ စမ်းသပ်ပုံ အဆင့်ဆင့်

**Pane ၁ (အပေါ်ခြမ်း):** Log ကို စောင့်ကြည့်နေပါ။

```bash
sudo tail -f /var/log/suricata/fast.log
```

**Pane ၂ (အောက်ခြမ်း):** Python Web Server ကို ဖွင့်ထားပါ။

```bash
sudo python3 -m http.server 80
```

## Ubuntu Machine

**စမ်းသပ်နည်း (Testing):**
နောက်ထပ် Terminal တစ်ခုဖွင့်ပြီး (သို့မဟုတ် browser ကနေ) အောက်ပါ command ကို ရိုက်ပြီး ကိုယ့်ရဲ့ Web Server ဆီကို Request ပို့ကြည့်ပါ။ Suricata rules တွေထဲမှာ ပုံမှန်ပါလေ့ရှိတဲ့ test string တစ်ခုဖြစ်တဲ့ `IDPS-CHECK` ကို သုံးပါမယ်-

```bash
curl http://localhost/IDPS-CHECK
```

---

### ၄။ ဘာကို တွေ့ရမလဲ?

သင် `curl` command နဲ့ ရိုက်လိုက်တာနဲ့:

- **Pane ၂ (Python)** မှာ: "GET /IDPS-CHECK HTTP/1.1" 200 ဆိုတဲ့ message တက်လာမယ်။
- **Pane ၁ (Suricata Log)** မှာ: `[**] [1:2100498:7] GPL ATTACK_RESPONSE id check returned root [**]` သို့မဟုတ် အလားတူ Alert တစ်ခု ချက်ချင်း တက်လာတာကို မြင်ရမှာ ဖြစ်ပါတယ်။

---

### ၅။ အနှစ်ချုပ်

ဒီနည်းလမ်းဟာ သင့်ရဲ့ Suricata setup (Network Interface, Home_Net, Rule Path) တွေ အားလုံး အလုပ်လုပ်မလုပ်ကို **လက်တွေ့စမ်းသပ်တာ** ဖြစ်ပါတယ်။ အကယ်၍ Log ထဲမှာ ဘာမှတက်မလာဘူးဆိုရင် configuration မှာ တစ်ခုခု မှားနေတာကို သိနိုင်ပါတယ်။
